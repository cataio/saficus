<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="description" content="Saficus - AI learning startup in Romania" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Saficus - Edu Gaming</title>

  <!-- Favicon support -->
  <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/images/favicon-16x16.png">

  <!-- Open Graph / Social Media Meta Tags -->
  <meta property="og:title" content="Saficus - Edu Gaming AI">
  <meta property="og:description" content="Platforma românească ce folosește inteligență artificială pentru a transforma temele în misiuni captivante">
  <meta property="og:image" content="assets/images/og-image-saficus.jpg">
  <meta property="og:url" content="https://saficus.ro">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Modern CSS Stylesheet -->
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <header>
    <div class="logo-container">
      <!-- Updated logo reference -->
      <img 
        src="assets/images/logo-saficus.png" 
        alt="Saficus Logo" 
        class="logo-img"
      />
      <strong>Saficus</strong>
    </div>

    <!-- Added hamburger menu toggle -->
    <div class="menu-toggle" id="menuToggle">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <nav id="mainNav">
      <ul>
        <li><a href="#about" class="nav-link">Despre</a></li>
        <li><a href="#features" class="nav-link">Caracteristici</a></li>
        <li><a href="#contact" class="nav-link">Contact</a></li>
      </ul>
    </nav>

    <!-- Added language selector -->
    <div class="language-selector">
      <select id="languageSelect" aria-label="Selectează limba">
        <option value="ro" selected>RO</option>
        <option value="en">EN</option>
      </select>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <h1>Învățare Gamificată - Educație prin Joc</h1>
    <p>
      Bine ai venit la Saficus, platforma românească ce folosește inteligență artificială pentru a transforma
      procesul de învățare într-o experiență distractivă și captivantă. Rezolvi exerciții, câștigi puncte și
      progresezi în timp ce îți consolidezi cunoștințele!
    </p>
    <!-- Replace simple button with login button -->
    <button id="loginButton" class="btn-primary">Conectare / Înregistrare</button>

    <!-- Add login modal -->
    <div id="loginModal" class="modal">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>Conectare cu email</h2>
        <p>Introdu adresa de email pentru a primi un link de autentificare:</p>
        <form id="loginForm" class="login-form">
          <input type="email" id="emailInput" placeholder="adresa@email.ro" required>
          <button type="submit" class="btn-secondary">Trimite link de conectare</button>
        </form>
        <div id="loginMessage" class="login-message"></div>
      </div>
    </div>

    <!-- Interactive 3D cube demo instead of static image -->
    <div class="hero-demo-container">
      <h2>Încearcă o demonstrație!</h2>
      <p style="color: #fff; margin-bottom: 1em;">
        Rezolvă <strong>3 probleme de adunare</strong> pentru clasa a III-a, folosind metoda de <strong>adunare Gauss</strong>. 
        Dacă toate răspunsurile sunt corecte, cubul își schimbă culoarea!
      </p>

      <div id="canvas-container">
        <canvas id="myCube" width="600" height="300" aria-label="Cub 3D interactiv"></canvas>
        <div id="canvas-error" class="error-message">Browserul tău nu suportă canvas sau WebGL. Te rugăm să încerci un browser modern.</div>
      </div>

      <form id="mathForm">
        <div class="form-group">
          <label for="ans1">1. 1 + 2 + 3 + 4 + 5 =</label>
          <input id="ans1" type="text" pattern="[0-9]+" inputmode="numeric" aria-required="true" />
        </div>
        <div class="form-group">
          <label for="ans2">2. 1 + 2 + 3 + ... + 10 =</label>
          <input id="ans2" type="text" pattern="[0-9]+" inputmode="numeric" aria-required="true" />
        </div>
        <div class="form-group">
          <label for="ans3">3. 1 + 2 + 3 + ... + 20 =</label>
          <input id="ans3" type="text" pattern="[0-9]+" inputmode="numeric" aria-required="true" />
        </div>
        <button type="button" class="btn-primary" onclick="verificaRezultate()" aria-label="Verifică răspunsurile">Verifică rezultatele</button>
      </form>
    </div>
  </section>

  <!-- About Section -->
  <section id="about">
    <!-- Updated about image reference -->
    <img
      id="about-img"
      src="assets/images/about-saficus.png"
      alt="Despre Saficus"
    />
    <div id="about-text">
      <h2>Despre Saficus</h2>
      <p>
        Saficus este un proiect educațional românesc, construit în jurul ideii că “temele” pot fi distractive
        și eficiente în același timp. Folosim inteligența artificială pentru a genera exerciții personalizate,
        jocuri pe nivele și evaluări care se ajustează ritmului tău de învățare. Aliniem conținutul la curriculumul
        național, astfel încât să te pregătim eficient pentru școală și examene, fără să-ți pierzi entuziasmul.
      </p>
      <p>
        “Jocul care nu-i joc” este exact experiența pe care dorim să ți-o oferim: când deschizi Saficus,
        intri într-o lume interactivă, dar fiecare misiune rezolvată te aduce mai aproape de obiectivele
        școlare, iar AI-ul nostru te va ghida pas cu pas, pentru a-ți depăși limitele.
      </p>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features">
    <div class="features-grid">
      <div class="feature-card">
        <!-- Adaptive Learning Icon -->
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2C13.1046 2 14 2.89543 14 4C14 5.10457 13.1046 6 12 6C10.8954 6 10 5.10457 10 4C10 2.89543 10.8954 2 12 2Z" fill="#5151e5"/>
          <path d="M19 8C20.1046 8 21 8.89543 21 10C21 11.1046 20.1046 12 19 12C17.8954 12 17 11.1046 17 10C17 8.89543 17.8954 8 19 8Z" fill="#5151e5"/>
          <path d="M5 8C6.10457 8 7 8.89543 7 10C7 11.1046 6.10457 12 5 12C3.89543 12 3 11.1046 3 10C3 8.89543 3.89543 8 5 8Z" fill="#5151e5"/>
          <path d="M12 18C13.1046 18 14 18.8954 14 20C14 21.1046 13.1046 22 12 22C10.8954 22 10 21.1046 10 20C10 18.8954 10.8954 18 12 18Z" fill="#5151e5"/>
          <path d="M6 15L10 17.5M18 15L14 17.5M17 7L14 6M7 7L10 6M12 14V18" stroke="#5151e5" stroke-width="2"/>
        </svg>
        <h3>Învățare Adaptivă</h3>
        <p>
          Algoritmii noștri AI detectează punctele tale forte și pe cele slabe, ajustând sarcinile
          ca tu să rămâi în zona optimă de învățare. Fără plictiseală, fără nivel prea ridicat –
          doar progres constant.
        </p>
      </div>
      <div class="feature-card">
        <!-- Gamification Icon -->
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L9.5 7L4 8L8 12L7 18L12 15L17 18L16 12L20 8L14.5 7L12 2Z" fill="#5151e5" stroke="#5151e5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M12 15V22M9 18H15" stroke="#5151e5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <h3>Gamificare Smart</h3>
        <p>
          Transformăm temele într-o aventură. Acumulezi puncte, urci în nivel și câștigi
          recompense virtuale, care-ți mențin motivația. Cu Saficus, "Tema la română" n-a fost
          niciodată mai interactivă.
        </p>
      </div>
      <div class="feature-card">
        <!-- Curriculum Alignment Icon -->
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M4 19.5V4.5C4 3.67157 4.67157 3 5.5 3H18.5C19.3284 3 20 3.67157 20 4.5V19.5C20 20.3284 19.3284 21 18.5 21H5.5C4.67157 21 4 20.3284 4 19.5Z" fill="#5151e5" fill-opacity="0.2" stroke="#5151e5" stroke-width="2"/>
          <path d="M8 7H16M8 11H16M8 15H13" stroke="#5151e5" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <h3>Aliniere la Curriculum</h3>
        <p>
          Conținutul e corelat cu programa școlară din România, pentru fiecare nivel de vârstă.
          Astfel, tot ce rezolvi în platformă se regăsește și la ore, fără timp pierdut pe
          lucruri care nu contează.
        </p>
      </div>
      <div class="feature-card">
        <!-- Real-Time Monitoring Icon -->
        <svg width="80" height="80" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="3" y="4" width="18" height="16" rx="2" fill="#5151e5" fill-opacity="0.2" stroke="#5151e5" stroke-width="2"/>
          <path d="M8 15L10.5 12L12.5 14L16 9" stroke="#5151e5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M3 9H21" stroke="#5151e5" stroke-width="2"/>
        </svg>
        <h3>Monitorizare în timp real</h3>
        <p>
          Profesorii și părinții pot urmări progresul, primind rapoarte clare și detaliate
          despre evoluția elevului. Informațiile te ajută să știi unde excelezi și la ce mai ai de
          lucrat.
        </p>
      </div>
    </div>
  </section>

  <!-- Contact Section with form -->
  <section id="contact">
    <div id="contact-content">
      <h2>Vrei să afli mai multe?</h2>
      <p>
        Suntem aici pentru a te ajuta să descoperi cum “tema” se poate transforma într-o aventură
        cu sens. Contactează-ne și hai să construim împreună viitorul educației în România.
      </p>
      
      <!-- Added contact form -->
      <form class="contact-form" action="/submit-form" method="POST">
        <input type="text" name="name" placeholder="Numele tău" required aria-label="Numele tău">
        <input type="email" name="email" placeholder="Email-ul tău" required aria-label="Email-ul tău">
        <textarea name="message" placeholder="Mesajul tău" required aria-label="Mesajul tău"></textarea>
        <button type="submit" class="btn-secondary">Trimite mesajul</button>
      </form>
      
      <p style="margin-top: 1rem;">Sau scrie-ne direct:</p>
      <a href="mailto:info@saficus.com" class="btn-secondary">Email: info@saficus.com</a>
    </div>
    <!-- Contact / CTA Image -->
    <div id="contact-img-container">
      <img 
        src="assets/images/contact-cta-saficus.jpg"
        alt="Contact Saficus"
      />
    </div>
  </section>

  <footer>
    <p>&copy; <span id="year"></span> Saficus | Toate drepturile rezervate</p>
    <!-- Added social media icons -->
    <div class="social-icons" style="margin-top: 1rem;">
      <a href="https://facebook.com/saficus" aria-label="Facebook Saficus">
        <img src="assets/images/facebook-icon.png" alt="" width="24" height="24">
      </a>
      <a href="https://instagram.com/saficus" aria-label="Instagram Saficus">
        <img src="assets/images/instagram-icon.png" alt="" width="24" height="24">
      </a>
      <a href="https://linkedin.com/company/saficus" aria-label="LinkedIn Saficus">
        <img src="assets/images/linkedin-icon.png" alt="" width="24" height="24">
      </a>
    </div>
  </footer>

  <!-- Three.js library -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.136.0/build/three.min.js"></script>

  <!-- Modern Animations -->
  <script src="assets/js/animations.js"></script>

  <script>
    // Update the footer year automatically
    document.getElementById('year').textContent = new Date().getFullYear();
    
    // Wait for DOM to be ready for the 3D cube
    document.addEventListener('DOMContentLoaded', function() {
      // Check if WebGL is supported
      try {
        initThreeJS();
      } catch (e) {
        console.error("ThreeJS initialization error:", e);
        document.getElementById('canvas-error').style.display = 'block';
        document.getElementById('myCube').style.display = 'none';
      }

      // Mobile menu toggle
      const menuToggle = document.getElementById('menuToggle');
      const mainNav = document.getElementById('mainNav');
      const navLinks = document.querySelectorAll('.nav-link');

      menuToggle.addEventListener('click', function() {
        mainNav.classList.toggle('active');
      });

      // Close menu when a nav link is clicked
      navLinks.forEach(link => {
        link.addEventListener('click', function() {
          mainNav.classList.remove('active');
        });
      });

      // Language selector functionality
      const languageSelect = document.getElementById('languageSelect');
      
      // Initialize with stored language preference if available
      const storedLang = localStorage.getItem('saficusLanguage');
      if (storedLang) {
        languageSelect.value = storedLang;
        updateLanguage(storedLang);
      }
      
      languageSelect.addEventListener('change', function() {
        const selectedLang = this.value;
        updateLanguage(selectedLang);
        localStorage.setItem('saficusLanguage', selectedLang);
      });

      function updateLanguage(lang) {
        const translations = {
          'ro': {
            'hero-title': 'Învățare Gamificată - Educație prin Joc',
            'hero-text': 'Bine ai venit la Saficus, platforma românească ce folosește inteligență artificială pentru a transforma procesul de învățare într-o experiență distractivă și captivantă. Rezolvi exerciții, câștigi puncte și progresezi în timp ce îți consolidezi cunoștințele!',
            'cta-button': 'Hai să începem',
            'demo-title': 'Încearcă o demonstrație!',
            'about-nav': 'Despre',
            'features-nav': 'Caracteristici',
            'contact-nav': 'Contact'
            // Add more translations as needed
          },
          'en': {
            'hero-title': 'Gamified Learning - Education Through Play',
            'hero-text': 'Welcome to Saficus, the Romanian platform that uses artificial intelligence to transform the learning process into a fun and engaging experience. Solve exercises, earn points, and progress while strengthening your knowledge!',
            'cta-button': 'Let\'s start',
            'demo-title': 'Try a demo!',
            'about-nav': 'About',
            'features-nav': 'Features',
            'contact-nav': 'Contact'
            // Add more translations as needed
          }
        };

        // Update navigation text
        document.querySelectorAll('.nav-link')[0].textContent = translations[lang]['about-nav'];
        document.querySelectorAll('.nav-link')[1].textContent = translations[lang]['features-nav'];
        document.querySelectorAll('.nav-link')[2].textContent = translations[lang]['contact-nav'];
        
        // Update hero section text
        document.querySelector('.hero h1').textContent = translations[lang]['hero-title'];
        document.querySelector('.hero p').textContent = translations[lang]['hero-text'];
        document.querySelector('.hero .btn-primary').textContent = translations[lang]['cta-button'];
        document.querySelector('.hero-demo-container h2').textContent = translations[lang]['demo-title'];

        // Update HTML lang attribute
        document.documentElement.lang = lang;
      }

      // Login Modal functionality
      const loginButton = document.getElementById('loginButton');
      const loginModal = document.getElementById('loginModal');
      const closeModal = document.querySelector('.close-modal');
      const loginForm = document.getElementById('loginForm');
      const loginMessage = document.getElementById('loginMessage');
      
      // Open modal when login button is clicked
      loginButton.addEventListener('click', function() {
        loginModal.style.display = 'block';
      });
      
      // Close modal when X is clicked
      closeModal.addEventListener('click', function() {
        loginModal.style.display = 'none';
        loginMessage.className = 'login-message';
        loginMessage.textContent = '';
      });
      
      // Close modal when clicking outside the modal
      window.addEventListener('click', function(event) {
        if (event.target === loginModal) {
          loginModal.style.display = 'none';
          loginMessage.className = 'login-message';
          loginMessage.textContent = '';
        }
      });
      
      // Handle login form submission
      loginForm.addEventListener('submit', function(event) {
        event.preventDefault();
        
        const email = document.getElementById('emailInput').value;
        
        // Simulate sending magic link
        loginMessage.className = 'login-message success';
        loginMessage.textContent = `Un link de autentificare a fost trimis la ${email}. Verifică-ți email-ul!`;
        
        // In a real application, you would make an API call here
        // For demo purposes, we'll just redirect to the member area after a delay
        setTimeout(() => {
          window.location.href = 'member-area.html';
        }, 3000);
      });
    });

    function initThreeJS() {
      // ----- Configurare scenă, cameră, renderer -----
      const canvas = document.getElementById('myCube');
      const renderer = new THREE.WebGLRenderer({ canvas, antialias: true });
      renderer.setSize(canvas.clientWidth, canvas.clientHeight);
      renderer.setPixelRatio(window.devicePixelRatio);

      const scene = new THREE.Scene();
      scene.background = new THREE.Color('#5151e5');

      const camera = new THREE.PerspectiveCamera(
        40,
        canvas.clientWidth / canvas.clientHeight,
        0.1,
        1000
      );
      camera.position.z = 5;

      // Add ambient light to see the cube better
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
      scene.add(ambientLight);
      
      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
      directionalLight.position.set(1, 1, 1);
      scene.add(directionalLight);

      // ----- Creare cub -----
      const geometry = new THREE.BoxGeometry(1, 1, 1);
      const material = new THREE.MeshPhongMaterial({ 
        color: '#f9c01c',
        shininess: 60
      });
      const cube = new THREE.Mesh(geometry, material);
      scene.add(cube);

      // Handle window resize
      window.addEventListener('resize', () => {
        const width = canvas.clientWidth;
        const height = canvas.clientHeight;
        
        camera.aspect = width / height;
        camera.updateProjectionMatrix();
        
        renderer.setSize(width, height);
      });

      // ----- Animare -----
      function animate() {
        requestAnimationFrame(animate);
        cube.rotation.x += 0.01;
        cube.rotation.y += 0.01;
        renderer.render(scene, camera);
      }
      animate();

      // Make cube available globally
      window.cube = cube;
    }

    // ----- Funcție verificare rezultate -----
    function verificaRezultate() {
      const r1 = document.getElementById("ans1").value.trim();
      const r2 = document.getElementById("ans2").value.trim();
      const r3 = document.getElementById("ans3").value.trim();

      // Validare input
      if (!r1 || !r2 || !r3 || isNaN(r1) || isNaN(r2) || isNaN(r3)) {
        alert("Te rugăm să completezi toate câmpurile cu numere întregi.");
        return;
      }

      // Rezultatele corecte (formulă Gauss n(n+1)/2)
      const correct1 = 15;  // 1+2+3+4+5
      const correct2 = 55;  // 1+...+10
      const correct3 = 210; // 1+...+20

      if (
        parseInt(r1) === correct1 &&
        parseInt(r2) === correct2 &&
        parseInt(r3) === correct3
      ) {
        // Schimbă culoarea cubului la verde dacă toate sunt corecte
        if (window.cube) {
          window.cube.material.color.set('#00dd00');
        }
        alert("Felicitări! Toate răspunsurile sunt corecte!");
      } else {
        if (window.cube) {
          window.cube.material.color.set('#ff7777');
        }
        alert("Mai încearcă! Unul sau mai multe răspunsuri sunt greșite.");
      }
    }
  </script>
</body>
</html>
